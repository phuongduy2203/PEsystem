@{
    ViewData["Title"] = "DataCloud";
}
@{
    Layout = "~/Areas/DataCloud/Views/Shared/Layout_dataCloud.cshtml";
}

<div class="container-fluid">
    <!-- Breadcrumb -->
    <div id="breadcrumb" class="p-2 mb-2"></div>

    <!-- Khu vực hiển thị tệp/thư mục -->
    <div id="data-cloud-results" class="p-2">
        <!-- Hàng chứa các nút điều hướng -->
        <div id="data-cloud-actions" class="d-flex align-items-center mb-3">
            <button id="back-btn" class="btn btn-ne me-2">Back</button>
            <button id="new-folder-btn" class="btn btn-ne me-2">New Folder</button>
            <button id="upload-file-btn" class="btn btn-ne me-2">Upload File</button>
            <button id="upload-folder-btn" class="btn btn-ne me-2">Upload Folder</button>
            <div class="ms-auto d-flex align-items-center">
                <i id="grid-view-btn" class="fas fa-th-large layout-icon me-3" title="Grid view"></i>
                <i id="list-view-btn" class="fas fa-bars layout-icon" title="List view"></i>
            </div>
        </div>
        <!-- Khu vực hiển thị file/folder -->
        <div id="data-cloud-items" class="row row-cols-1 row-cols-sm-2 row-cols-md-6 g-3"></div>
    </div>

    <!-- Input ẩn để chọn tệp/thư mục -->
    <input type="file" id="file-input" style="display:none;" multiple>
    <input type="file" id="folder-input" style="display:none;" webkitdirectory directory multiple>

    <!-- Menu ngữ cảnh -->
    <div id="context-menu" class="context-menu" style="display: none;">
        <ul class="list-group">
            <li class="list-group-item context-menu-item" data-action="download">Download</li>
            <li class="list-group-item context-menu-item" data-action="delete">Delete</li>
            <li class="list-group-item context-menu-item" data-action="preview">Xem trước</li>
            <li class="list-group-item context-menu-item" data-action="preview-new-tab">Xem trước trong tab mới</li>
        </ul>
    </div>
</div>

<!--Modal xem trước tệp-->
<div class="modal fade" id="previewModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xem trước tệp</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                <iframe id="pdfViewer" style="width: 100%; height: 600px; border: none;"></iframe>
                <div id="pptViewer" style="width: 100%; display: none;"></div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <style>
        #mainContent{
            background-color: #fff;
        }
    </style>
    <script src="~/assets/areas/datacloud/js/datacloud.js?v=@DateTime.Now.Ticks"></script>
    <!-- Thêm vào file Razor hoặc layout -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
}